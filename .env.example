# DisputeStrike Environment Variables
# Copy this file to .env and fill in your values

# ===========================================
# DATABASE (Required)
# ===========================================
# MySQL connection string (Railway MySQL, TiDB Cloud, etc.)
# Port 3306 is standard for MySQL.
DATABASE_URL=mysql://user:password@host:3306/database

# ===========================================
# AUTHENTICATION (Required)
# ===========================================
# Random 64-character string for JWT signing
# Generate with: openssl rand -hex 32
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# ===========================================
# GOOGLE OAUTH (Required for "Continue with Google")
# ===========================================
# Create OAuth 2.0 Client in Google Cloud Console:
#   APIs & Services → Credentials → Create Credentials → OAuth client ID
#   Application type: Web application
#   Authorized redirect URIs: add EXACTLY:
#     - Local:  http://localhost:3001/api/auth/google/callback
#     - Prod:   https://yourdomain.com/api/auth/google/callback
#     (No trailing slash.)
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret

# In development, redirect_uri uses VITE_APP_URL or BASE_URL when set. Set
# VITE_APP_URL=http://localhost:3001 and add http://localhost:3001/api/auth/google/callback
# to Authorized redirect URIs. Fixes "Error 400: redirect_uri_mismatch".
# VITE_APP_URL=http://localhost:3001

# Optional: force a specific redirect URI (overrides request origin and env base).
# GOOGLE_REDIRECT_URI=http://localhost:3001/api/auth/google/callback

# ===========================================
# AI SERVICES (Required - at least one)
# ===========================================
# OpenAI API Key (for AI Assistant and document analysis)
OPENAI_API_KEY=sk-your-openai-api-key

# Anthropic API Key (optional backup)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key

# ===========================================
# PAYMENTS (Required for subscriptions)
# ===========================================
# Stripe API Keys
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret
VITE_STRIPE_PUBLISHABLE_KEY=pk_live_your-publishable-key

# ===========================================
# EMAIL (Required for auth and notifications)
# ===========================================
# ZeptoMail (Zoho) API Configuration
ZEPTOMAIL_API_KEY=Zoho-enczapikey your-zeptomail-api-key
ZEPTOMAIL_FROM_EMAIL=noreply@yourdomain.com
ZEPTOMAIL_FROM_NAME=YourAppName

# Admin email
ADMIN_EMAIL=admin@yourdomain.com

# ===========================================
# OPTIONAL SERVICES
# ===========================================
# Twilio (for SMS notifications)
# TWILIO_ACCOUNT_SID=your-twilio-account-sid
# TWILIO_AUTH_TOKEN=your-twilio-auth-token
# TWILIO_PHONE_NUMBER=+1234567890

# AWS S3 (for file storage)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# ===========================================
# RAILWAY (Required when deploying on Railway)
# ===========================================
# Railway sets these automatically. Add a Volume mounted at /data for file storage.
# RAILWAY_PUBLIC_DOMAIN=your-app.up.railway.app
# RAILWAY_VOLUME_MOUNT_PATH=/data

# ===========================================
# APPLICATION SETTINGS
# ===========================================
NODE_ENV=production
PORT=3000

# Cron jobs (off by default in development)
# ENABLE_CRON_JOBS=true
# DISABLE_CRON_JOBS=true

# ===========================================
# V2 - STRIPE PRODUCT IDS (Required for V2)
# ===========================================
# Run scripts/setupStripeProducts.ts to generate these
STRIPE_TRIAL_PRODUCT_ID=prod_xxx
STRIPE_TRIAL_PRICE_ID=price_xxx
STRIPE_STARTER_PRODUCT_ID=prod_xxx
STRIPE_STARTER_PRICE_ID=price_xxx
STRIPE_PROFESSIONAL_PRODUCT_ID=prod_xxx
STRIPE_PROFESSIONAL_PRICE_ID=price_xxx
STRIPE_COMPLETE_PRODUCT_ID=prod_xxx
STRIPE_COMPLETE_PRICE_ID=price_xxx

# ===========================================
# V2 - CREDIT MONITORING (Required for $1 Trial)
# ===========================================
# IdentityIQ Integration
# Contact IdentityIQ for affiliate/API access
IDENTITYIQ_AFFILIATE_ID=your-affiliate-id
IDENTITYIQ_API_KEY=your-api-key
IDENTITYIQ_WEBHOOK_SECRET=your-webhook-secret

# Backup: SmartCredit (if IdentityIQ unavailable)
# SMARTCREDIT_AFFILIATE_ID=your-affiliate-id
# SMARTCREDIT_API_KEY=your-api-key

# Backup: MyScoreIQ (if others unavailable)
# MYSCOREIQ_AFFILIATE_ID=your-affiliate-id
# MYSCOREIQ_API_KEY=your-api-key

# ===========================================
# V2 - MAILING SERVICE (Optional - for Complete tier)
# ===========================================
# Lob.com API for automated letter mailing
# LOB_API_KEY=live_your-lob-api-key
# LOB_WEBHOOK_SECRET=your-lob-webhook-secret

# ===========================================
# V2 - APP URL (Required for email links)
# ===========================================
VITE_APP_URL=https://yourdomain.com

# ===========================================
# V2 - FEATURE FLAGS
# ===========================================
# Enable/disable V2 features
ENABLE_TRIAL_FLOW=true
ENABLE_ROUND_LOCKING=true
ENABLE_AI_SELECTION=true
ENABLE_RESPONSE_UPLOAD=true

# Trial settings
TRIAL_DURATION_DAYS=7
ROUND_LOCK_DAYS=30

# Pricing (in cents)
TRIAL_PRICE_CENTS=100
STARTER_PRICE_CENTS=4900
PROFESSIONAL_PRICE_CENTS=6995
COMPLETE_PRICE_CENTS=9995
